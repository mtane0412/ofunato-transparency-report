# プロジェクト固有設定

## プロジェクト概要

大船渡市の事務事業評価シートを可視化したダッシュボードアプリケーションです。約407件の事務事業データをExcelファイルから読み込み、Next.jsで可視化します。

## 開発言語・フレームワーク

- **言語**: TypeScript
- **フレームワーク**: Next.js 16 (App Router)
- **スタイリング**: Tailwind CSS v4
- **デプロイ**: 静的サイト生成（SSG）

## 品質チェックコマンド

### Lint

```bash
npm run lint
```

### 型チェック

```bash
npm run type-check
```

### ビルド

```bash
npm run build
```

## 開発ワークフロー

### データ更新

事務事業評価シートのExcelファイル（`report.xlsx`）を更新した後、以下のコマンドを実行してください：

```bash
npm run convert-data
```

これにより、`data/projects.json` が再生成されます。

### 開発サーバー起動

```bash
npm run dev
```

ブラウザで `http://localhost:3000` にアクセスして確認できます。

## プロジェクト構成

```
ofunato-transparency-report/
├── app/                    # Next.js App Router
│   ├── layout.tsx         # ルートレイアウト
│   ├── page.tsx           # トップページ（概要ダッシュボード）
│   ├── globals.css        # グローバルスタイル
│   └── projects/          # 事業関連ページ
│       ├── page.tsx       # 事業一覧
│       └── [id]/page.tsx  # 事業詳細
├── components/            # Reactコンポーネント
│   ├── ui/               # UIコンポーネント（Card等）
│   └── layout/           # レイアウトコンポーネント（Header、Footer）
├── lib/                  # ユーティリティ関数
│   ├── data.ts          # データアクセス関数
│   └── utils.ts         # 汎用ユーティリティ
├── types/               # TypeScript型定義
│   └── index.ts        # プロジェクト全体の型定義
├── scripts/             # データ変換スクリプト
│   └── convert-excel.ts # Excel→JSON変換
├── data/                # JSONデータ（ビルド成果物）
│   └── projects.json   # 変換済みデータ
└── report.xlsx          # 元データ（Excelファイル）
```

## データ構造

### Project型

主要な型定義は `types/index.ts` を参照してください。

- **基本情報**: ID、名称、年度、作成日
- **政策階層**: 政策、施策、基本事業
- **組織情報**: 部課名、課長名、係名、担当者
- **事業情報**: 事業区分、期間、概要、対象、意図、結果
- **財政データ**: 6年分の財政情報（国庫支出金、一般財源、トータルコスト等）
- **指標データ**: 6年分の指標データ（活動指標、対象指標、成果指標）
- **評価情報**: 改革改善の方向性、今後の方向性、評価コメント

## 注意事項

### ダークモード

このプロジェクトではダークモード対応を行っていません。常に明るい背景で表示されます。

### データファイル

- `report.xlsx` はGitにコミットされています（データソースとして必要）
- `data/projects.json` は `.gitignore` に追加せず、ビルド成果物としてコミットしています（SSGのため）

## 今後の拡張候補

1. **フィルター機能**: 政策・部署・事業区分でのフィルタリング
2. **ページネーション**: 事業一覧の表示件数制限
3. **グラフ表示**: Rechartsを使用した財政データの可視化
4. **検索機能**: キーワードによる全文検索
5. **予算分析ページ**: 政策別・施策別の予算配分分析
